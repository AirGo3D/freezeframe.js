{"version":3,"sources":["components/ReactFreezeframe.js","index.js"],"names":["ReactFreezeframe","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isPlaying","freeze","React","createRef","_this2","$freezeframe","Freezeframe","current","options","on","items","event","concat","Function","onToggle","destroy","_this$props","children","alt","src","react_default","a","createElement","className","ref","start","setState","stop","Component","App","visible","components_ReactFreezeframe","logEvent","onStart","onStop","onClick","toggle","trigger","overlay","href","console","log","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.bd8ad9c7.chunk.js","sourcesContent":["import React from 'react';\nimport Freezeframe from 'freezeframe';\n\nclass ReactFreezeframe extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPlaying: false\n    };\n    this.freeze = React.createRef();\n  }\n\n  componentDidMount() {\n    this.$freezeframe = new Freezeframe(this.freeze.current, this.props.options);\n    this.$freezeframe.on('toggle', (items, isPlaying) => {\n      const event = isPlaying ? 'Start' : 'Stop';\n      if (this.props[`on${event}`] instanceof Function) {\n        this.props[`on${event}`](items, isPlaying);\n      }\n      if (this.props.onToggle instanceof Function) {\n        this.props.onToggle(items, isPlaying);\n      }\n    });\n  }\n\n  componenWillUnmount() {\n    if (this.$freezeframe) {\n      this.$freezeframe.destroy();\n    }\n  }\n\n  render() {\n    const { children, alt, src } = this.props;\n    return (\n      <div className=\"react-freezeframe\">\n        { children\n          ? <div ref={this.freeze}>\n              {children}\n            </div>\n          : <img\n              ref={this.freeze}\n              alt={alt}\n              src={src}\n            />\n        }\n      </div>\n    );\n  }\n\n  start() {\n    this.$freezeframe.start();\n    this.setState({\n      isPlaying: true\n    });\n  }\n\n  stop() {\n    this.$freezeframe.stop();\n    this.setState({\n      isPlaying: false\n    });\n  }\n\n  toggle() {\n    if (this.state.isPlaying) {\n      this.stop();\n    } else {\n      this.start();\n    }\n  }\n}\n\nexport default ReactFreezeframe;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport ReactFreezeframe from './components/ReactFreezeframe';\nimport './index.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.freeze = React.createRef();\n    this.state = {\n      visible: true\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <p className=\"bold title\">react-freezeframe</p>\n\n        <div className=\"section\">\n          <p>basic,<br />animate on hover.</p>\n          <ReactFreezeframe\n            src=\"https://static1.squarespace.com/static/51c748abe4b0c275d0aa86bf/5a9298a1c830257a3467a8de/5a92e9ccec212d9451d56ff9/1519814094696/Lincoln_Cinemagraph_615.gif?format=1000w\"\n            onToggle={(items, isPlaying) => this.logEvent('toggle', items, isPlaying)}\n            onStart={(items, isPlaying) => this.logEvent('start', items, isPlaying)}\n            onStop={(items, isPlaying) => this.logEvent('stop', items, isPlaying)}\n          />\n        </div>\n\n        <div className=\"section\">\n          <p>start/stop manually, with overlay</p>\n\n          <button onClick={() => this.start()}>Start</button>\n          <button onClick={() => this.stop()}>Stop</button>\n          <button onClick={() => this.toggle()}>Toggle</button>\n\n          <ReactFreezeframe\n            src=\"http://static1.squarespace.com/static/51c748abe4b0c275d0aa86bf/55f96e21e4b0f86680e762dc/56aa551b8b38d446e39e933b/1454003533097/.gif\"\n            ref={this.freeze}\n            options={{\n              trigger: false,\n              overlay: true\n            }}\n            onToggle={(items, isPlaying) => this.logEvent('toggle', items, isPlaying)}\n            onStart={(items, isPlaying) => this.logEvent('start', items, isPlaying)}\n            onStop={(items, isPlaying) => this.logEvent('stop', items, isPlaying)}\n          />\n        </div>\n\n        <div className=\"section\">\n          <p>using children & overlay</p>\n\n          <ReactFreezeframe\n            options={{\n              overlay: true\n            }}\n          >\n            <div className=\"grid\">\n              <div className=\"cell\">\n                <img src=\"https://static1.squarespace.com/static/51c748abe4b0c275d0aa86bf/5a9298a1c830257a3467a8de/5a92e801085229b264ca29fc/1519577337605/download.gif?format=1000w\" alt=\"\" />\n              </div>\n              <div className=\"cell\">\n                <img src=\"https://static1.squarespace.com/static/51c748abe4b0c275d0aa86bf/5a9298a1c830257a3467a8de/5a92e904c830257a34734ff5/1519577373504/Armani-Central-Park-6151.gif?format=1000w\" alt=\"\" />\n              </div>\n              <div className=\"cell\">\n                <img src=\"https://static1.squarespace.com/static/51c748abe4b0c275d0aa86bf/5a9298a1c830257a3467a8de/5a95c231419202eb9a763970/1519814094692/tumblr_nfro6qnt591qzcq51o1_500.gif?format=750w\" alt=\"\" />\n              </div>\n              <div className=\"cell\">\n                <img src=\"https://static1.squarespace.com/static/51c748abe4b0c275d0aa86bf/5a9298a1c830257a3467a8de/5a93f42471c10b0d656d1562/1519814094495/dirk-980.gif?format=1000w\" alt=\"\" />\n              </div>\n            </div>\n          </ReactFreezeframe>\n        </div>\n\n        <div className=\"section\">\n          <p>destroy, remove event listeners</p>\n\n          <button onClick={() => this.destroy()}>Destroy</button>\n\n          { this.state.visible && <ReactFreezeframe\n            src=\"https://static1.squarespace.com/static/51c748abe4b0c275d0aa86bf/5a9298a1c830257a3467a8de/5a92e9ccec212d9451d56ff9/1519814094696/Lincoln_Cinemagraph_615.gif?format=1000w\"\n            onToggle={(items, isPlaying) => this.logEvent('toggle', items, isPlaying)}\n            onStart={(items, isPlaying) => this.logEvent('start', items, isPlaying)}\n            onStop={(items, isPlaying) => this.logEvent('stop', items, isPlaying)}\n          />}\n        </div>\n\n        <p>cinemagraphs by <a href=\"http://www.cinemagraphs.com/\">cinemagraphs.com</a></p>\n      </div>\n    );\n  }\n\n  start() {\n    this.freeze.current.start();\n  }\n\n  stop() {\n    this.freeze.current.stop();\n  }\n\n  toggle() {\n    this.freeze.current.toggle();\n  }\n\n  destroy() {\n    this.setState({ visible: false });\n  }\n\n  logEvent(event, items, isPlaying) {\n    console.log(event, items, isPlaying);\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}